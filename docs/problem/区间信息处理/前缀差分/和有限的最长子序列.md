# [和有限的最长子序列](https://leetcode.cn/problems/longest-subsequence-with-limited-sum/description/)

??? success "代码参考"

    ```java
    class Solution {

        int[] sm;
        Integer[] as;
        int n;
        int m;
        int[] rs;

        int mf(int x) {
            int i = 1, j = n;
            int mid;

            while (i < j) {
                mid = (i + j + 1) >> 1;
                if (sm[mid] <= x) i = mid;
                else j = mid - 1;
            }

            if (sm[i] <= x) return i;
            return 0;
        }

        public int[] answerQueries(int[] nums, int[] queries) {
            n = nums.length;
            as = new Integer[n + 1];
            sm = new int[n + 1];
            as[0] = 0;
            m = queries.length;
            rs = new int[m];

            for (int i = 1; i <= n; i ++) {
                as[i] = nums[i - 1];
            }

            Arrays.sort(as, 1, n + 1, (x, y) -> {
                return x - y;
            });

            for (int i = 1; i <= n; i ++) {
                sm[i] = sm[i - 1] + as[i];
            }


            for (int i = 0; i < m; i ++) {
                rs[i] = mf(queries[i]);
            }

            // for (int i = 1; i <= n; i ++) {
            //     System.out.print(sm[i] + " ");
            // }

            return rs;
        }
    }
    ```